<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Configurar Tipos de Colunas</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-dark text-light">

<div class="container py-5">
    {% if mensagem %}
    <div class="alert alert-danger alert-dismissible fade show text-center" role="alert">
        {{ mensagem }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    {% endif %}    
    <h2 class="mb-4">üõ†Ô∏è Configurar Tipos de Colunas</h2>
    <form method="POST" action="/finalizar_upload" enctype="multipart/form-data" class="row g-3">
        <table class="table table-dark table-striped">
            <thead>
                <tr>
                    <th>Coluna</th>
                    <th>Exemplos</th>
                    <th>Tipo de Dados</th>
                </tr>
            </thead>
            <tbody>
                {% for coluna in colunas %}
                <tr>
                    <td>{{ coluna }}</td>
                    <td>
                        {% for exemplo in exemplos[coluna] %}
                            <div>{{ exemplo }}</div>
                        {% endfor %}
                    </td>
                    <td>
                        <select class="form-select" name="{{ coluna }}" required>
                            <option value="TEXT" {% if sugestoes[coluna] == 'TEXT' %}selected{% endif %}>TEXT</option>
                            <option value="INTEGER" {% if sugestoes[coluna] == 'INTEGER' %}selected{% endif %}>INTEGER</option>
                            <option value="REAL" {% if sugestoes[coluna] == 'REAL' %}selected{% endif %}>REAL</option>
                            <option value="DATE" {% if sugestoes[coluna] == 'DATE' %}selected{% endif %}>DATE</option>
                            <option value="TIMESTAMP" {% if sugestoes[coluna] == 'TIMESTAMP' %}selected{% endif %}>TIMESTAMP</option>
                        </select>                        
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        <div class="d-flex justify-content-between mt-4">
            <a href="{{ url_for('cancelar_upload') }}" class="btn btn-outline-danger">Cancelar Upload</a>
            <button type="submit" class="btn btn-success">Confirmar Upload</button>
       </div>        
    </form>
</div>

</body>
</html>
